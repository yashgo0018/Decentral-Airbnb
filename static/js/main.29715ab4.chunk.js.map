{"version":3,"sources":["images/frontpagebg.png","images/airbnb.png","pages/Home.jsx","images/airbnbRed.png","components/RentalsMap.js","helpers.js","components/User.js","pages/Rentals.jsx","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","destination","setDestination","Date","checkIn","setCheckIn","checkOut","setCheckOut","guests","setGuests","className","style","backgroundImage","bg","src","logo","alt","defaultOptionIndex","onChange","data","label","options","id","event","date","value","name","type","Number","target","to","state","fill","size","svg","text","onClick","console","log","GoogleApiWrapper","apiKey","locations","google","setHighLight","center","setCenter","useEffect","avgLat","reduce","a","b","lat","length","avgLng","lng","toString","containerStyle","width","height","initialCenter","zoom","disableDefaultUI","map","coords","i","position","contractInterface","ethers","utils","Interface","AirbnbContract","abi","sortDatesWithHashes","dates","v","k","BigNumber","from","hashMessage","sort","getFunctionOptionForMoralis","functionName","params","msgValue","contractAddress","address","filter","User","isVisible","setVisible","useMoralis","Moralis","account","userRentals","setUserRentals","Rentals","Object","extend","query","Query","equalTo","find","results","onCloseButtonPressed","hasFooter","title","display","justifyContent","flexWrap","gap","r","isDisabled","attributes","city","description","datesBooked","imgUrl","searchFilters","useLocation","isInitialized","highLight","rentalsList","setRentalsList","cords","setCords","contractProcessor","useWeb3ExecuteFunction","dispatch","useNotification","handleSuccess","message","handleError","error","identifier","errorMsg","code","originalError","getError","err","start","end","dayPrice","arr","dt","setDate","getDate","push","toISOString","slice","enableWeb3","network","chainId","newBookings","fetch","onSuccess","onError","greaterThanOrEqualTo","long","toLocaleString","month","day","rental","unoDescription","dosDescription","bookRental","uid_decimal","$numberDecimal","pricePerDay_decimal","formatEther","pricePerDay","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","appId","serverUrl","basename","document","querySelector","getAttribute","getElementById"],"mappings":"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","file":"static/js/main.29715ab4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/frontpagebg.2c1c3460.png\";","export default __webpack_public_path__ + \"static/media/airbnb.b3ecd9c2.png\";","import React, { useState } from \"react\";\nimport \"./Home.css\";\nimport { Link } from \"react-router-dom\";\nimport bg from \"../images/frontpagebg.png\";\nimport logo from \"../images/airbnb.png\";\nimport { Button, ConnectButton, DatePicker, Icon, Input, Select } from \"web3uikit\";\n\nconst Home = () => {\n  const [destination, setDestination] = useState(\"New York\");\n  const [checkIn, setCheckIn] = useState(new Date());\n  const [checkOut, setCheckOut] = useState(new Date());\n  const [guests, setGuests] = useState(2);\n\n  return (\n    <>\n      <div className=\"container\" style={{ backgroundImage: `url(${bg})` }}>\n        <div className=\"containerGradient\"></div>\n      </div>\n\n      <div className=\"topBanner\">\n        <div><img className=\"logo\" src={logo} alt=\"logo\" /></div>\n        <div className=\"tabs\">\n          <div className=\"selected\">Places to Stay</div>\n          <div>Experiences</div>\n          <div>Online Experiences</div>\n        </div>\n        <div className=\"lrContainers\">\n          <ConnectButton />\n        </div>\n      </div>\n      <div className=\"tabContent\">\n        <div className=\"searchFields\">\n          <div className=\"inputs\">\n            Location\n            <Select\n              defaultOptionIndex={0}\n              onChange={(data) => setDestination(data.label)}\n              options={[\n                {\n                  id: \"ny\",\n                  label: \"New York\"\n                },\n                {\n                  id: \"lon\",\n                  label: \"London\"\n                },\n                {\n                  id: \"db\",\n                  label: \"Dubai\"\n                },\n                {\n                  id: \"la\",\n                  label: \"Los Angeles\"\n                }\n              ]}\n            />\n          </div>\n          <div className=\"vl\" />\n          <div className=\"inputs\">\n            Check In\n            <DatePicker\n              id=\"CheckIn\"\n              onChange={(event) => setCheckIn(event.date)}\n            />\n          </div>\n          <div className=\"vl\" />\n          <div className=\"inputs\">\n            Check Out\n            <DatePicker\n              id=\"CheckOut\"\n              onChange={(event) => setCheckOut(event.date)}\n            />\n          </div>\n          <div className=\"vl\" />\n          <div className=\"inputs\">\n            Guests\n            <Input\n              value={2}\n              name=\"AddGuests\"\n              type=\"number\"\n              onChange={(event) => setGuests(Number(event.target.value))}\n            />\n          </div>\n          <Link to={\"/rentals\"} state={{\n            destination,\n            checkIn,\n            checkOut,\n            guests\n          }}>\n            <div className=\"searchButton\">\n              <Icon fill=\"#ffffff\" size={24} svg=\"search\" />\n            </div>\n          </Link>\n        </div>\n      </div>\n      <div className=\"randomLocation\">\n        <div className=\"title\">Feel Advanturous</div>\n        <div className=\"text\">\n          Let us decide and discover new places to stay, live, work or just\n          relax.\n        </div>\n        <Button\n          text=\"Explore A Location\"\n          onClick={() => console.log(checkOut)}\n        />\n      </div>\n\n    </>\n  );\n};\n\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/airbnbRed.d4c2314d.png\";","import React, { useEffect, useState } from \"react\";\nimport { Map, Marker, GoogleApiWrapper } from \"google-maps-react\";\n\nfunction RentalsMap({ locations, google, setHighLight }) {\n  const [center, setCenter] = useState();\n\n  useEffect(() => {\n    const avgLat = locations.reduce((a, b) => a + Number(b.lat), 0) / locations.length;\n    const avgLng = locations.reduce((a, b) => a + Number(b.lng), 0) / locations.length;\n    setCenter({ lat: avgLat.toString(), lng: avgLng.toString() });\n  }, [locations]);\n\n  return (\n    <>\n      {center && (\n        <Map\n          google={google}\n          containerStyle={{\n            width: \"50vw\",\n            height: \"calc(100vh - 135px)\"\n          }}\n          initialCenter={center || locations[0]}\n          zoom={13}\n          disableDefaultUI={true}\n        >\n          {locations.map((coords, i) => (\n            <Marker key={i} position={coords} onClick={() => setHighLight(i)} />\n          ))}\n        </Map>\n      )}\n    </>\n  );\n}\n\nexport default GoogleApiWrapper({ apiKey: \"\" })(RentalsMap);\n","import { ethers } from \"ethers\";\nimport AirbnbContract from \"./abi/Airbnb.json\";\n\nconst contractInterface = new ethers.utils.Interface(AirbnbContract.abi);\n\nexport function sortDatesWithHashes(dates) {\n    dates = dates.map((a) => ({ v: a, k: ethers.BigNumber.from(ethers.utils.hashMessage(a)) }))\n    dates = dates.sort((a, b) => a.k - b.k).map(a => a.v);\n    return dates;\n}\n\nexport function getError(identifier) {\n    return contractInterface.getError(identifier);\n}\n\nexport function getFunctionOptionForMoralis(functionName, params, msgValue) {\n    const { address: contractAddress } = AirbnbContract;\n    const abi = AirbnbContract.abi.filter(a => a.name === functionName);\n    if (!abi[0]) return null;\n    return { contractAddress, functionName, abi, params, msgValue };\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useMoralis } from \"react-moralis\";\nimport { Icon, Modal, Card } from \"web3uikit\";\n\nfunction User() {\n  const [isVisible, setVisible] = useState(false);\n  const { Moralis, account } = useMoralis();\n  const [userRentals, setUserRentals] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const Rentals = Moralis.Object.extend(\"newBookings\");\n      const query = new Moralis.Query(Rentals);\n      query.equalTo(\"booker\", account);\n      const results = await query.find();\n      setUserRentals(results);\n    })();\n  }, [account, isVisible]);\n\n  return (\n    <>\n      <div onClick={() => setVisible(true)}>\n        <Icon fill=\"#000000\" size={24} svg=\"user\" />\n      </div>\n\n      <Modal\n        onCloseButtonPressed={() => setVisible(false)}\n        hasFooter={false}\n        title=\"Your Stays\"\n        isVisible={isVisible}\n      >\n        <div style={{ display: 'flex', justifyContent: 'start', flexWrap: 'wrap', gap: '10px' }}>\n          {userRentals.map((r, i) => <div key={i} style={{ width: '200px' }}>\n            <Card\n              isDisabled\n              title={r.attributes.city}\n              description={`${r.attributes.datesBooked[0]} for ${r.attributes.datesBooked.length} Days`}\n            >\n              <div>\n                <img\n                  width=\"180px\"\n                  src={r.attributes.imgUrl}\n                />\n              </div>\n            </Card>\n          </div>)}\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default User;\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Rentals.css\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport logo from \"../images/airbnbRed.png\";\nimport { Button, ConnectButton, Icon, useNotification } from \"web3uikit\";\nimport RentalsMap from \"../components/RentalsMap\";\nimport { useMoralis, useWeb3ExecuteFunction } from \"react-moralis\";\nimport { ethers } from \"ethers\";\nimport { getError, getFunctionOptionForMoralis, sortDatesWithHashes } from \"../helpers\";\nimport User from \"../components/User\";\n\nconst Rentals = () => {\n  const { state: searchFilters } = useLocation();\n  const { Moralis, isInitialized, account } = useMoralis();\n  const [highLight, setHighLight] = useState(-1);\n  const [rentalsList, setRentalsList] = useState([]);\n  const [cords, setCords] = useState([]);\n  const contractProcessor = useWeb3ExecuteFunction();\n  const dispatch = useNotification();\n\n  function handleSuccess() {\n    dispatch({\n      type: 'success',\n      message: `Nice! You are going to ${searchFilters.destination}`,\n      title: 'Booking Successful',\n      position: 'topL',\n    });\n  }\n\n  function handleError(error) {\n    let errorMsg = \"Something went wrong\";\n    if (error.code === 1) {\n      errorMsg = \"Please switch to Rinkeby Network\";\n    } else if (error.code === 4001) {\n      errorMsg = \"User denied the request\";\n    } else {\n      try {\n        const errorF = getError(error.error.data.originalError.data)\n        errorMsg = errorF.name;\n      } catch (err) {\n      }\n    }\n    dispatch({\n      type: 'error',\n      message: `${errorMsg}`,\n      title: 'Booking Failed',\n      position: 'topL',\n    });\n  }\n\n  function handleNoAccount() {\n    dispatch({\n      type: 'error',\n      message: `You need to connect your wallet to book a rental`,\n      title: 'Not Connected',\n      position: 'topL',\n    });\n  }\n\n  useEffect(() => {\n    if (!isInitialized) return;\n    (async () => {\n      const Rentals = Moralis.Object.extend(\"rentals\");\n      const query = new Moralis.Query(Rentals);\n      query.equalTo(\"city\", searchFilters.destination);\n      query.greaterThanOrEqualTo(\"maxGuests_decimal\", searchFilters.guests);\n      const results = await query.find();\n      setRentalsList(results);\n      const cords = results.map(({ attributes: { lat, long: lng } }) => ({ lat, lng }));\n      setCords(cords);\n    })();\n  }, [isInitialized, searchFilters]);\n\n  async function bookRental(start, end, id, dayPrice) {\n    let arr = [];\n    for (const dt = new Date(start); dt <= end; dt.setDate(dt.getDate() + 1)) {\n      arr.push(new Date(dt).toISOString().slice(0, 10));\n    }\n    arr = sortDatesWithHashes(arr);\n    const provider = await Moralis.enableWeb3();\n    if (provider.network.chainId !== 4) {\n      handleError({ code: 1 });\n      return;\n    }\n    const options = getFunctionOptionForMoralis(\"addDatesBooked\", { id: Number(id), newBookings: arr }, (dayPrice * arr.length).toString());\n    await contractProcessor.fetch({\n      params: options,\n      onSuccess() {\n        handleSuccess();\n      },\n      onError(error) {\n        handleError(error);\n      }\n    })\n  }\n\n  if (cords.length === 0) {\n    return <>Loading</>;\n  }\n\n  return (\n    <>\n      <div className=\"topBanner\">\n        <div className=\"\">\n          <Link to=\"/\">\n            <img className=\"logo\" src={logo} alt=\"logo\" />\n          </Link>\n        </div>\n        <div className=\"searchReminder\">\n          <div className=\"filter\">\n            {searchFilters.destination}\n          </div>\n          <div className=\"vl\" />\n          <div className=\"filter\">\n            {`\n              ${searchFilters.checkIn.toLocaleString(\"default\", { month: \"short\" })}\n              ${searchFilters.checkIn.toLocaleString(\"default\", { day: \"2-digit\", })}\n              -\n              ${searchFilters.checkOut.toLocaleString(\"default\", { month: \"short\" })}\n              ${searchFilters.checkOut.toLocaleString(\"default\", { day: \"2-digit\", })}\n            `}\n          </div>\n          <div className=\"vl\" />\n          <div className=\"filter\">\n            {searchFilters.guests} Guest\n          </div>\n          <div className=\"searchFiltersIcon\">\n            <Icon fill=\"#ffffff\" size={20} svg=\"search\" />\n          </div>\n        </div>\n        <div className=\"lrContainers\">\n          {account && <User account={account} />}\n          <ConnectButton />\n        </div>\n      </div>\n\n      <hr className=\"line\" />\n      <div className=\"rentalsContent\">\n        <div className=\"rentalsContentL\">\n          Stays Available For Your Destination\n          {rentalsList &&\n            rentalsList.map((rental, i) => <Fragment key={i}>\n              <hr className=\"line2\" />\n              <div className={highLight === i ? \"rentalDivH\" : \"rentalDiv\"}>\n                <img src={rental.attributes.imgUrl} alt=\"rental\" className=\"rentalImg\" />\n                <div className=\"rentalInfo\">\n                  <div className=\"rentalTitle\">{rental.attributes.name}</div>\n                  <div className=\"rentalDesc\">{rental.attributes.unoDescription}</div>\n                  <div className=\"rentalDesc\">{rental.attributes.dosDescription}</div>\n                  <div className=\"bottomButton\">\n                    <Button\n                      onClick={() => {\n                        if (account) {\n                          bookRental(\n                            searchFilters.checkIn,\n                            searchFilters.checkOut,\n                            rental.attributes.uid_decimal.value.$numberDecimal,\n                            Number(rental.attributes.pricePerDay_decimal.value.$numberDecimal),\n                          );\n                        } else {\n                          handleNoAccount();\n                        }\n                      }}\n                      text=\"Stay Here\" />\n                    <div className=\"price\">\n                      <Icon fill=\"#808080\" size={10} svg=\"matic\" /> {ethers.utils.formatEther(rental.attributes.pricePerDay)} / Day\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Fragment>)}\n        </div>\n        <div className=\"rentalsContentR\">\n          <RentalsMap locations={cords} setHighLight={setHighLight} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Rentals;\n","import React from 'react';\nimport { Routes, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home.jsx\";\nimport Rentals from './pages/Rentals.jsx';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/rentals\" element={<Rentals />} />\n    </Routes>\n  )\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { MoralisProvider } from \"react-moralis\";\nimport { NotificationProvider } from 'web3uikit';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <MoralisProvider appId=\"tECvMa0FfpmnJebzgYIhfem7zwakrKguijNR1zxM\" serverUrl=\"https://x2o6ipql1aij.usemoralis.com:2053/server\">\n      <NotificationProvider>\n        <BrowserRouter basename={document.querySelector('base')?.getAttribute('href') ?? '/'}>\n          <App />\n        </BrowserRouter>\n      </NotificationProvider>\n    </MoralisProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}