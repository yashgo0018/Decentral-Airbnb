(this["webpackJsonpairbnb-clone"]=this["webpackJsonpairbnb-clone"]||[]).push([[5],{1006:function(e,t){},1008:function(e,t){},1020:function(e,t){},1036:function(e,t){},1038:function(e,t){},1040:function(e,t){},1177:function(e,t){},1179:function(e,t){},1186:function(e,t){},1187:function(e,t){},1203:function(e,t){},1205:function(e,t){},1213:function(e,t){},1224:function(e,t){},1285:function(e,t,n){},1301:function(e,t,n){},1302:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(168),c=n.n(i),r=(n(645),n(35)),o=n(33),l=(n(646),n(169)),u=n.p+"static/media/frontpagebg.2c1c3460.png",d=n.p+"static/media/airbnb.b3ecd9c2.png",j=n(68),p=n(8),b=function(){var e=Object(a.useState)("New York"),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(new Date),c=Object(o.a)(i,2),r=c[0],b=c[1],m=Object(a.useState)(new Date),f=Object(o.a)(m,2),x=f[0],O=f[1],y=Object(a.useState)(2),g=Object(o.a)(y,2),h=g[0],v=g[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"container",style:{backgroundImage:"url(".concat(u,")")},children:Object(p.jsx)("div",{className:"containerGradient"})}),Object(p.jsxs)("div",{className:"topBanner",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"logo",src:d,alt:"logo"})}),Object(p.jsxs)("div",{className:"tabs",children:[Object(p.jsx)("div",{className:"selected",children:"Places to Stay"}),Object(p.jsx)("div",{children:"Experiences"}),Object(p.jsx)("div",{children:"Online Experiences"})]}),Object(p.jsx)("div",{className:"lrContainers",children:Object(p.jsx)(j.c,{})})]}),Object(p.jsx)("div",{className:"tabContent",children:Object(p.jsxs)("div",{className:"searchFields",children:[Object(p.jsxs)("div",{className:"inputs",children:["Location",Object(p.jsx)(j.i,{defaultOptionIndex:0,onChange:function(e){return s(e.label)},options:[{id:"ny",label:"New York"},{id:"lon",label:"London"},{id:"db",label:"Dubai"},{id:"la",label:"Los Angeles"}]})]}),Object(p.jsx)("div",{className:"vl"}),Object(p.jsxs)("div",{className:"inputs",children:["Check In",Object(p.jsx)(j.d,{id:"CheckIn",onChange:function(e){return b(e.date)}})]}),Object(p.jsx)("div",{className:"vl"}),Object(p.jsxs)("div",{className:"inputs",children:["Check Out",Object(p.jsx)(j.d,{id:"CheckOut",onChange:function(e){return O(e.date)}})]}),Object(p.jsx)("div",{className:"vl"}),Object(p.jsxs)("div",{className:"inputs",children:["Guests",Object(p.jsx)(j.f,{value:2,name:"AddGuests",type:"number",onChange:function(e){return v(Number(e.target.value))}})]}),Object(p.jsx)(l.b,{to:"/rentals",state:{destination:n,checkIn:r,checkOut:x,guests:h},children:Object(p.jsx)("div",{className:"searchButton",children:Object(p.jsx)(j.e,{fill:"#ffffff",size:24,svg:"search"})})})]})}),Object(p.jsxs)("div",{className:"randomLocation",children:[Object(p.jsx)("div",{className:"title",children:"Feel Advanturous"}),Object(p.jsx)("div",{className:"text",children:"Let us decide and discover new places to stay, live, work or just relax."}),Object(p.jsx)(j.a,{text:"Explore A Location",onClick:function(){return console.log(x)}})]})]})},m=n(13),f=n(1),x=n.n(f),O=(n(1285),n.p+"static/media/airbnbRed.d4c2314d.png"),y=n(282);var g=Object(y.GoogleApiWrapper)({apiKey:""})((function(e){var t=e.locations,n=e.google,s=e.setHighLight,i=Object(a.useState)(),c=Object(o.a)(i,2),r=c[0],l=c[1];return Object(a.useEffect)((function(){var e=t.reduce((function(e,t){return e+Number(t.lat)}),0)/t.length,n=t.reduce((function(e,t){return e+Number(t.lng)}),0)/t.length;l({lat:e.toString(),lng:n.toString()})}),[t]),Object(p.jsx)(p.Fragment,{children:r&&Object(p.jsx)(y.Map,{google:n,containerStyle:{width:"50vw",height:"calc(100vh - 135px)"},initialCenter:r||t[0],zoom:13,disableDefaultUI:!0,children:t.map((function(e,t){return Object(p.jsx)(y.Marker,{position:e,onClick:function(){return s(t)}},t)}))})})})),h=n(98),v=n(201),N=n(283),w=new v.a.utils.Interface(N.abi);function k(e){return e=(e=e.map((function(e){return{v:e,k:v.a.BigNumber.from(v.a.utils.hashMessage(e))}}))).sort((function(e,t){return e.k-t.k})).map((function(e){return e.v}))}function D(e,t,n){var a=N.address,s=N.abi.filter((function(t){return t.name===e}));return s[0]?{contractAddress:a,functionName:e,abi:s,params:t,msgValue:n}:null}var S=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(h.b)(),c=i.Moralis,r=i.account,l=Object(a.useState)([]),u=Object(o.a)(l,2),d=u[0],b=u[1];return Object(a.useEffect)((function(){Object(m.a)(x.a.mark((function e(){var t,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.Object.extend("newBookings"),(n=new c.Query(t)).equalTo("booker",r),e.next=5,n.find();case 5:a=e.sent,b(a);case 7:case"end":return e.stop()}}),e)})))()}),[r,n]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{onClick:function(){return s(!0)},children:Object(p.jsx)(j.e,{fill:"#000000",size:24,svg:"user"})}),Object(p.jsx)(j.g,{onCloseButtonPressed:function(){return s(!1)},hasFooter:!1,title:"Your Stays",isVisible:n,children:Object(p.jsx)("div",{style:{display:"flex",justifyContent:"start",flexWrap:"wrap",gap:"10px"},children:d.map((function(e,t){return Object(p.jsx)("div",{style:{width:"200px"},children:Object(p.jsx)(j.b,{isDisabled:!0,title:e.attributes.city,description:"".concat(e.attributes.datesBooked[0]," for ").concat(e.attributes.datesBooked.length," Days"),children:Object(p.jsx)("div",{children:Object(p.jsx)("img",{width:"180px",src:e.attributes.imgUrl})})})},t)}))})})]})},C=function(){var e=Object(r.e)().state,t=Object(h.b)(),n=t.Moralis,s=t.isInitialized,i=t.account,c=Object(a.useState)(-1),u=Object(o.a)(c,2),d=u[0],b=u[1],f=Object(a.useState)([]),y=Object(o.a)(f,2),N=y[0],C=y[1],I=Object(a.useState)([]),B=Object(o.a)(I,2),F=B[0],L=B[1],M=Object(h.d)(),E=Object(j.j)();function P(){E({type:"success",message:"Nice! You are going to ".concat(e.destination),title:"Booking Successful",position:"topL"})}function U(e){var t,n="Something went wrong";if(1===e.code)n="Please switch to Rinkeby Network";else if(4001===e.code)n="User denied the request";else try{n=(t=e.error.data.originalError.data,w.getError(t)).name}catch(a){}E({type:"error",message:"".concat(n),title:"Booking Failed",position:"topL"})}function z(){return(z=Object(m.a)(x.a.mark((function e(t,a,s,i){var c,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],r=new Date(t);r<=a;r.setDate(r.getDate()+1))c.push(new Date(r).toISOString().slice(0,10));return c=k(c),e.next=5,n.enableWeb3();case 5:if(4===e.sent.network.chainId){e.next=9;break}return U({code:1}),e.abrupt("return");case 9:return o=D("addDatesBooked",{id:Number(s),newBookings:c},(i*c.length).toString()),e.next=12,M.fetch({params:o,onSuccess:function(){P()},onError:function(e){U(e)}});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){s&&Object(m.a)(x.a.mark((function t(){var a,s,i,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.Object.extend("rentals"),(s=new n.Query(a)).equalTo("city",e.destination),s.greaterThanOrEqualTo("maxGuests_decimal",e.guests),t.next=6,s.find();case 6:i=t.sent,C(i),c=i.map((function(e){var t=e.attributes;return{lat:t.lat,lng:t.long}})),L(c);case 10:case"end":return t.stop()}}),t)})))()}),[s,e]),0===F.length?Object(p.jsx)(p.Fragment,{children:"Loading"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"topBanner",children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)(l.b,{to:"/",children:Object(p.jsx)("img",{className:"logo",src:O,alt:"logo"})})}),Object(p.jsxs)("div",{className:"searchReminder",children:[Object(p.jsx)("div",{className:"filter",children:e.destination}),Object(p.jsx)("div",{className:"vl"}),Object(p.jsx)("div",{className:"filter",children:"\n              ".concat(e.checkIn.toLocaleString("default",{month:"short"}),"\n              ").concat(e.checkIn.toLocaleString("default",{day:"2-digit"}),"\n              -\n              ").concat(e.checkOut.toLocaleString("default",{month:"short"}),"\n              ").concat(e.checkOut.toLocaleString("default",{day:"2-digit"}),"\n            ")}),Object(p.jsx)("div",{className:"vl"}),Object(p.jsxs)("div",{className:"filter",children:[e.guests," Guest"]}),Object(p.jsx)("div",{className:"searchFiltersIcon",children:Object(p.jsx)(j.e,{fill:"#ffffff",size:20,svg:"search"})})]}),Object(p.jsxs)("div",{className:"lrContainers",children:[i&&Object(p.jsx)(S,{account:i}),Object(p.jsx)(j.c,{})]})]}),Object(p.jsx)("hr",{className:"line"}),Object(p.jsxs)("div",{className:"rentalsContent",children:[Object(p.jsxs)("div",{className:"rentalsContentL",children:["Stays Available For Your Destination",N&&N.map((function(t,n){return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)("hr",{className:"line2"}),Object(p.jsxs)("div",{className:d===n?"rentalDivH":"rentalDiv",children:[Object(p.jsx)("img",{src:t.attributes.imgUrl,alt:"rental",className:"rentalImg"}),Object(p.jsxs)("div",{className:"rentalInfo",children:[Object(p.jsx)("div",{className:"rentalTitle",children:t.attributes.name}),Object(p.jsx)("div",{className:"rentalDesc",children:t.attributes.unoDescription}),Object(p.jsx)("div",{className:"rentalDesc",children:t.attributes.dosDescription}),Object(p.jsxs)("div",{className:"bottomButton",children:[Object(p.jsx)(j.a,{onClick:function(){i?function(e,t,n,a){z.apply(this,arguments)}(e.checkIn,e.checkOut,t.attributes.uid_decimal.value.$numberDecimal,Number(t.attributes.pricePerDay_decimal.value.$numberDecimal)):E({type:"error",message:"You need to connect your wallet to book a rental",title:"Not Connected",position:"topL"})},text:"Stay Here"}),Object(p.jsxs)("div",{className:"price",children:[Object(p.jsx)(j.e,{fill:"#808080",size:10,svg:"matic"})," ",v.a.utils.formatEther(t.attributes.pricePerDay)," / Day"]})]})]})]})]},n)}))]}),Object(p.jsx)("div",{className:"rentalsContentR",children:Object(p.jsx)(g,{locations:F,setHighLight:b})})]})]})},I=(n(1301),function(){return Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{path:"/",element:Object(p.jsx)(b,{})}),Object(p.jsx)(r.a,{path:"/rentals",element:Object(p.jsx)(C,{})})]})}),B=function(e){e&&e instanceof Function&&n.e(18).then(n.bind(null,1523)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(h.a,{appId:"tECvMa0FfpmnJebzgYIhfem7zwakrKguijNR1zxM",serverUrl:"https://x2o6ipql1aij.usemoralis.com:2053/server",children:Object(p.jsx)(j.h,{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(I,{})})})})}),document.getElementById("root")),B()},283:function(e){e.exports=JSON.parse('{"address":"0x4D755F37bAE8585034345193Af64a8853b4C01bd","chainId":4,"abi":[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"_weth"}]},{"type":"error","name":"DateUnavailable","inputs":[]},{"type":"error","name":"DuplicateDates","inputs":[]},{"type":"error","name":"IncorrectPayment","inputs":[]},{"type":"error","name":"InvalidDate","inputs":[]},{"type":"error","name":"RentalNotFound","inputs":[]},{"type":"error","name":"UnorderedDates","inputs":[]},{"type":"event","anonymous":false,"name":"NewDatesBooked","inputs":[{"type":"string[]","name":"datesBooked","indexed":false},{"type":"uint256","name":"id","indexed":false},{"type":"address","name":"booker","indexed":false},{"type":"string","name":"city","indexed":false},{"type":"string","name":"imgUrl","indexed":false}]},{"type":"event","anonymous":false,"name":"OwnershipTransferred","inputs":[{"type":"address","name":"previousOwner","indexed":true},{"type":"address","name":"newOwner","indexed":true}]},{"type":"event","anonymous":false,"name":"RentalCreated","inputs":[{"type":"string","name":"name","indexed":false},{"type":"string","name":"city","indexed":false},{"type":"string","name":"lat","indexed":false},{"type":"string","name":"long","indexed":false},{"type":"string","name":"unoDescription","indexed":false},{"type":"string","name":"dosDescription","indexed":false},{"type":"string","name":"imgUrl","indexed":false},{"type":"uint256","name":"maxGuests","indexed":false},{"type":"uint256","name":"pricePerDay","indexed":false},{"type":"string[]","name":"datesBooked","indexed":false},{"type":"uint256","name":"id","indexed":false},{"type":"address","name":"renter","indexed":false}]},{"type":"function","name":"addDatesBooked","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"uint256","name":"id"},{"type":"string[]","name":"newBookings"}],"outputs":[]},{"type":"function","name":"bookings","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"},{"type":"string"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"createRental","constant":false,"payable":false,"inputs":[{"type":"string","name":"name"},{"type":"string","name":"city"},{"type":"string","name":"lat"},{"type":"string","name":"long"},{"type":"string","name":"unoDescription"},{"type":"string","name":"dosDescription"},{"type":"string","name":"imgUrl"},{"type":"uint256","name":"maxGuests"},{"type":"uint256","name":"pricePerDay"},{"type":"string[]","name":"datesBooked"}],"outputs":[]},{"type":"function","name":"getTotalRentals","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"owner","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"renounceOwnership","constant":false,"payable":false,"inputs":[],"outputs":[]},{"type":"function","name":"rentalIds","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"rentals","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256"}],"outputs":[{"type":"string","name":"name"},{"type":"string","name":"city"},{"type":"string","name":"lat"},{"type":"string","name":"long"},{"type":"string","name":"unoDescription"},{"type":"string","name":"dosDescription"},{"type":"string","name":"imgUrl"},{"type":"uint256","name":"maxGuests"},{"type":"uint256","name":"pricePerDay"},{"type":"uint256","name":"id"},{"type":"address","name":"renter"}]},{"type":"function","name":"transferOwnership","constant":false,"payable":false,"inputs":[{"type":"address","name":"newOwner"}],"outputs":[]},{"type":"function","name":"weth","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"address"}]}]}')},645:function(e,t,n){},646:function(e,t,n){},913:function(e,t){},943:function(e,t){},984:function(e,t){},986:function(e,t){}},[[1302,6,7]]]);
//# sourceMappingURL=main.cafd5b03.chunk.js.map